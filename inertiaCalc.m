%% Arthur Binstein
% AA279C SADC
% Problem Set 1
% Inertia Tensor Calculation

clear all; clc; close all;

r1 = [0 0 1.635]';
r2 = [0 0 3.787]';
r3 = [0 0 -1.285]';
r4 = r3;
r5 = [-1.224 0 .465]';
r6 = [1.224 0 .465]';
r7 = [0 1.224 .465]';
r8 = [0 -1.224 .465]';
r9 = [-5.85 0 -1.285]';
r10 = [5.85 0 -1.285]';
r = [r1 r2 r3 r4 r5 r6 r7 r8 r9 r10]

m1 = 1778.7;
m2 = 475;
m3 = 2229.9;
m4 = 1457.4;
m5 = 15.2;
m6 = m5;
m7 = m5;
m8 = m5;
m9 = 556.7;
m10 = m9
m = [m1 m2 m3 m4 m5 m6 m7 m8 m9 m10];

I1 = [3081.8 0 0 ; 0 3081.8 0 ; 0 0 3241.6];
I2 = [121.46 0 0 ; 0 121.46 0 ; 0 0 187.2];
I3 = [4919.7 0 0 ; 0 4919.7 0 ; 0 0 6494.5];
I4 = [850.2 0 0 ; 0 850.2 0 ; 0 0 728.7];
I5 = [.38 0 0 ; 0 .38 0 ; 0 0 .38];
I6 = I5;
I7 = I5;
I8 = I5;
I9 = [417.99 0 0 ; 0 3386.5 0; 0 0 2969.5];
I10 = I9;
Ic = [I1 I2 I3 I4 I5 I6 I7 I8 I9 I10];

I = zeros(3);
for i = 1:10
    I = I + inertia(r(:,i), m(i), Ic(:,3*i-2:3*i));
end
I

function I = inertia(r, m, Ix)

I = Ix + m*(r'*r*eye(3) - r*r');

end